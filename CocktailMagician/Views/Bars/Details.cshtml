@model Bar
@{
    ViewData["Title"] = @Model.Name;
}
<h3>@Model.Name</h3>

<style>
    .stars-outer {
        position: relative;
        display: inline-block;
    }

    .stars-inner {
        position: absolute;
        top: 0;
        left: 0;
        white-space: nowrap;
        overflow: hidden;
        width: 0;
    }

    .stars-outer::before {
        content: "\f005\f005\f005\f005\f005";
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        color: #ccc;
    }

    .stars-inner::before {
        content: "\f005\f005\f005\f005\f005";
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        color: #f8ce0b;
    }
</style>

<div style="display:inline-block;vertical-align:top;">


    @if (Model.ImagePath != null)
    {
        <img class="card-img-top image-bar-index" src="@Model.ImagePath" alt="Image">
    }
    else
    {
        <img class="card-img-top image-bar-index" src="~/images/noPhotoAvailable.jpg" alt="Card image cap">
    }
</div>
<div style="display:inline-block;">
    <div><strong>Address: @Model.Address</strong></div>
    <div></div>
    <div><strong>Rating: @Model.Rating</strong></div>
    <div class="container">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Rating</th>
                </tr>
            </thead>
            <tbody>
                <tr class="@Model.Name">
                    <td>
                        <div class="stars-outer">
                            <div class="stars-inner"></div>
                            <span class="number-rating"></span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>

        const rating = @Model.Rating;
                const starsTotal = 5;
        document.addEventListener('DOMContentLoaded', getRatings);

        function getRatings() {
            const starPercentage = (rating / starsTotal) * 100;
            const starPercentageRounded = `${Math.round(starPercentage / 10) * 10}%`;
            document.querySelector(` .stars-inner`).style.width = starPercentageRounded;
        }
    </script>
</div>
<div>

</div>
<h3>Cocktails</h3>
<h6><strong>Cocktails:</strong></h6> @string.Join(", ", Model.Cocktails.Select(x => x.Name))